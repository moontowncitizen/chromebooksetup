(()=>{"use strict";var t;!function(t){t.CHROME_EXTENSION_ID="CHROME_EXTENSION_ID",t.EXTN_PREFIX="EVENT_PREFIX",t.COLORS_GRAMMAR="COLORS_GRAMMAR",t.CARD_LAYOUT="CARD_LAYOUT",t.COLORS_SPELLING="COLORS_SPELLING",t.COLORS_STYLE="COLORS_LONG_SENTENCE",t.SUPPORTED_LANGUAGES="SUPPORTED_LANGUAGES",t.INSTALLED_ATTRIBUTE="INSTALLED_ATTRIBUTE",t.GDOCS_ATTRIBUTE="GDOCS_ATTRIBUTE",t.TWEAKS_ATTRIBUTE="TWEAKS_ATTRIBUTE",t.TMP_ID_ATTRIBUTE="TMP_ID_ATTRIBUTE",t.COLORS_PARAPHRASE="COLORS_PARAPHRASE",t.VALID_START_SENTENCE_REGEX="VALID_START_SENTENCE_REGEX",t.VALID_END_SENTENCE_REGEX="VALID_END_SENTENCE_REGEX",t.MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED="MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED",t.MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS="MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS"}(t||(t={}));const e={[t.CHROME_EXTENSION_ID]:"oldceeleldhonbafppcapldpdifcinji",[t.EXTN_PREFIX]:"lt",[t.COLORS_GRAMMAR]:{UNDERLINE:"#f2b24c",BACKGROUND:"rgba(242,179,77,0.3)",EMPHASIZE:"rgba(241,179,76,0.1)"},[t.COLORS_SPELLING]:{UNDERLINE:"#EB5757",BACKGROUND:"rgba(235,88,88,0.2)",EMPHASIZE:"rgba(239,88,88,0.1)"},[t.COLORS_STYLE]:{UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"},[t.COLORS_PARAPHRASE]:{UNDERLINE:"#8F7FFF",BACKGROUND:"rgba(142,128,255,0.2)",EMPHASIZE:"rgba(138,128,255,0.2)",TITLE:"#5C4CFF"},[t.SUPPORTED_LANGUAGES]:["ar","ast-es","be-by","br-fr","ca-es","ca-es-valencia","da-dk","de-at","de-ch","de-de","el-gr","en-au","en-ca","en-gb","en-nz","en-us","en-za","eo","es","fa","ga-ie","fr","gl-es","it","ja-jp","km-kh","nl","no","pl-pl","pt-ao","pt-br","pt-mz","pt-pt","ro-ro","ru-ru","sk-sk","sl-si","sv","ta-in","tl-ph","uk-ua","zh-cn"],[t.CARD_LAYOUT]:{TARGET_BOX_MARGIN:5,HEADER_HEIGHT:36,FOOTER_HEIGHT:36,KEYBOARD_HINT_HEIGHT:60,MIN_HEIGHT_PARAPHRASE:200,MIN_HEIGHT_TOOLBOX:230,MAX_HEIGHT_TOOLBOX:360},[t.INSTALLED_ATTRIBUTE]:"data-lt-installed",[t.GDOCS_ATTRIBUTE]:"data-lt-site",[t.TWEAKS_ATTRIBUTE]:"data-lt-tweaks",[t.TMP_ID_ATTRIBUTE]:"data-lt-tmp-id",[t.VALID_START_SENTENCE_REGEX]:"[¿¡(@]",[t.VALID_END_SENTENCE_REGEX]:"[?!.,)…:;‽]",[t.MULTI_SENTENCE_SELECTION_FOR_PARAPHRASE_ALLOWED]:!1,[t.MAX_TEXT_LENGTH_ALLOWED_FOR_PAGELESS]:Number.MAX_SAFE_INTEGER};class n{constructor(){this.extnConfig=e}static getInstance(){return this.instance||self._qb_lt_config||(this.instance=new n,self._qb_lt_config=this.instance),this.instance||self._qb_lt_config}get(t){return this.extnConfig[t]}set(t,e){this.extnConfig[t]=e}setAll(t){this.extnConfig=t}getAll(){return this.extnConfig}}const s=n.getInstance();document.documentElement.setAttribute("data-"+s.get(t.EXTN_PREFIX)+"-ready","true");const E=s.get(t.CHROME_EXTENSION_ID);try{self._docs_annotate_canvas_by_ext=E;const t=self.chrome;self.chrome=self.chrome||{},self.chrome.runtime=self.chrome.runtime||{};const e=self.chrome.runtime.sendMessage;self.chrome.runtime.sendMessage=function(...n){const[s]=n;if(s!==E)return e.apply(this,n);t||delete self.chrome}}catch(t){}const o="#dd0000",r="#4285f4",a="#fce8e6",i="#e8f0fe",_=/rgba\(31,\s*161,\s*93,\s*0\.|rgba\(255,\s*0,\s*122,\s*0\.|rgba\(0,\s*163,\s*187,\s*0\.|rgba\(119,\s*119,\s*119,\s*0\.|rgba\(19,\s*115,\s*51,\s*0\.|rgba\(184,\s*6,\s*114,\s*0\.|rgba\(147,\s*52,\s*230,\s*0\.|rgba\(163,\s*90,\s*0,\s*0\./i,T=document.getElementsByTagName(s.get(t.EXTN_PREFIX)+"-gdocs-disabled");function c(){return!!T.length}let R=!1;const l=[];function A(t,e,n){var s;s=()=>{const s=new CustomEvent(e,{detail:n,bubbles:!0});t.dispatchEvent(s)},R?s():l.push(s)}document.addEventListener(s.get(t.EXTN_PREFIX)+"-gdocs-init",(()=>{l.forEach((t=>t())),l.length=0,R=!0}));const g=new Map,f=new Map,h=CanvasRenderingContext2D.prototype.moveTo;CanvasRenderingContext2D.prototype.moveTo=function(...t){const[e,n]=t;return g.set(this,{x:e,y:n}),h.apply(this,t)};const L=CanvasRenderingContext2D.prototype.lineTo;CanvasRenderingContext2D.prototype.lineTo=function(...e){const[n,E]=e,a=this.strokeStyle.toString(),i=g.get(this);g.set(this,{x:n,y:E});if([o,r].includes(a.toLowerCase())&&!c())return;if(i?.y===E&&_.test(a)&&!c()){let e=f.get(this);e||(e=[],f.set(this,e));const{a:o,d:r,e:a,f:_}=this.getTransform(),T=Math.min(i.x,n)*o+a,c=Math.max(i.x,n)*o+a,R=E*r+_-this.lineWidth/2,l=E*r+_+this.lineWidth/2;e.push({left:T,right:c,top:R,bottom:l}),this.canvas&&A(this.canvas,s.get(t.EXTN_PREFIX)+"-strikethroughchange",{strikethroughLines:e})}return L.apply(this,e)};const N=CanvasRenderingContext2D.prototype.fillRect;CanvasRenderingContext2D.prototype.fillRect=function(...t){const e=this.fillStyle.toString();if(!([a,i].includes(e.toLowerCase())&&!c()))return N.apply(this,t)};const S=CanvasRenderingContext2D.prototype.clearRect;CanvasRenderingContext2D.prototype.clearRect=function(...e){const[n,E,o,r]=e;let a=f.get(this);if(a&&!c()){const{a:e,d:i,e:_,f:T}=this.getTransform(),c=n*e+_,R=E*i+T,l={top:R,left:c,bottom:R+r*i,right:c+o*e},g=a.length;a=a.filter((t=>{return n=l,!!((e=t).left>n.right||e.right<n.left||e.top>n.bottom||e.bottom<n.top);var e,n})),g!==a.length&&(f.set(this,a),A(this.canvas,s.get(t.EXTN_PREFIX)+"-strikethroughchange",{strikethroughLines:a}))}return S.apply(this,e)};const O=CanvasRenderingContext2D.prototype.stroke;CanvasRenderingContext2D.prototype.stroke=function(...t){const[e]=t;if(e){const t=this.strokeStyle.toString();if([o,r].includes(t.toLowerCase())&&!c())return}return O.apply(this,t)};let C=null;function I(){try{if(null===C&&(C=function(){const t=self.KX_kixApp;if(!t)return null;const e=[[t,["KX_kixApp"]]],n=new Set([t]);for(const[t,s]of e){const E=Object.getOwnPropertyNames(t);for(const o of E)try{const E=t[o];if("string"==typeof E&&E.startsWith(""))return s.concat(o);!(!(s.length<20&&E instanceof Object)||E instanceof Node||E instanceof Window||E instanceof RegExp||E instanceof Date||E instanceof Map||Array.isArray(E)||n.has(E))&&(n.add(E),e.push([E,s.concat(o)]))}catch(t){}}return null}()),null===C)return"";let t=self;for(const e of C)t=t[e];if("string"==typeof t)return t}catch(t){}return""}document.addEventListener("LanguageTool-getFullText",(t=>{try{const e=t.detail?.datasetPropName;e&&(document.body.dataset[e]=I())}catch(t){}}))})();